(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{5658:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return PostMatching}});var r=n(9499),i=n(29),s=n(7794),a=n.n(s),o=n(7294),c=n(6310),l=n(7533),d=n(7536),p=n(1150),u=n(3281),h=n(528),x=n(9630),m=n(3162),j=n(7731),g=n(7396),f=n(4471),b=n(3011),v=n(846),_=n(8381),y=n(8633),O=n(546),S=n(7903),w=n(8437),R=n(2386),I=n(7632),N=n(880),P=n(1163),Z=n(8031),C=n(5893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k=c.Ry().shape({title:c.Z_().required("제목을 입력해주세요."),matchingType:c.Z_().required("경기 유형을 선택해주세요."),recruitNum:c.Rx().required("모집 인원수를 선택해주세요."),ageGroup:c.Z_().required("모집 연령대를 선택해주세요."),ntrp:c.Z_().required("모집할 NTRP를 선택해주세요."),location:c.Z_().required("경기장 주소를 입력해주세요."),isReserved:c.O7().required("경기장 예약 여부를 선택해주세요."),cost:c.Z_().required("경기장 대여료를 입력해주세요"),locationImg:c.Z_(),content:c.Z_().required("본문 내용을 입력해주세요.")});function PostMatching(){var e,t,n=(0,P.useRouter)(),r=(0,Z.Z)().setMessage,s=(0,o.useState)(""),c=s[0],p=s[1],u=(0,o.useState)(""),O=u[0],V=u[1],X=(0,o.useState)(""),H=X[0],U=X[1],$=(0,o.useState)(""),J=$[0],Y=$[1],ee=(0,o.useState)(""),et=ee[0],en=ee[1],er=(0,o.useRef)(null),ei=(0,o.useState)(null),es=ei[0],ea=ei[1],eo=(0,o.useState)(null),ec=eo[0],el=eo[1],ed=(0,o.useState)(!1),ep=ed[0],eu=ed[1],eh=(0,o.useState)(null),ex=eh[0],em=eh[1],ej=(0,d.cI)({resolver:(0,l.X)(k)}),eg=ej.control,ef=ej.register,eb=(ej.handleSubmit,ej.setValue),ev=ej.getValues,e_=ej.watch;ej.formState.errors;var ey=(0,d.cI)(),eO=ey.register,eS=ey.handleSubmit;ey.setValue,ey.watch,ey.formState.errors;var clickImgFile=function(){er.current&&er.current.click()},handleAddressDrawer=function(){eu(function(e){return!e})},ew=(e=(0,i.Z)(a().mark(function _callee(e){var t;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t={keyword:e.address},n.prev=1,n.next=4,S.Z.searchAddress(t);case 4:em(n.sent.data.response),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}},_callee,null,[[1,8]])})),function(t){return e.apply(this,arguments)}),onClickAddressItem=function(e){handleAddressDrawer(),eb("location",e.jibunAddr)},eR=(t=(0,i.Z)(a().mark(function _callee2(){var e,t,i;return a().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e={title:ev("title"),ageGroup:ev("ageGroup"),matchingType:ev("matchingType"),ntrp:ev("ntrp"),recruitNum:ev("recruitNum"),date:c,startTime:O,endTime:H,recruitDueDate:J,recruitDueTime:et.split(":")[0],isReserved:ev("isReserved"),cost:Number(ev("cost")),content:ev("content"),location:ev("location")},s.prev=1,(t=new FormData).append("imageFile",es),s.next=6,N.Z.uploadImgSignup(t);case 6:return i=s.sent,s.next=9,S.Z.regMatchingData(_objectSpread(_objectSpread({},e),{},{locationImg:i.data.response}));case 9:200===s.sent.status&&(r("success","매칭 등록에 성공하셨습니다"),n.push("/")),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),console.log(s.t0);case 16:case"end":return s.stop()}},_callee2,null,[[1,13]])})),function(){return t.apply(this,arguments)});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A,{children:(0,C.jsx)(h.B,{children:"매칭 글 등록"})}),(0,C.jsxs)(E,{children:[(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{htmlFor:"postTitle",children:"제목"}),(0,C.jsx)("input",_objectSpread({type:"text"},ef("title")))]}),(0,C.jsxs)(M,{children:[(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"경기 유형"}),(0,C.jsx)(d.Qr,{name:"matchingType",control:eg,render:function(e){var t=e.field;return(0,C.jsx)(m.A,_objectSpread(_objectSpread({},t),{},{options:[{value:"SINGLE",label:"단식"},{value:"DOUBLE",label:"복식"},{value:"MIXED_DOUBLE",label:"혼성 복식"},{value:"OTHER",label:"기타"}]}))}})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"모집 인원"}),(0,C.jsx)(d.Qr,{name:"recruitNum",control:eg,render:function(e){var t=e.field;return(0,C.jsx)(m.A,_objectSpread(_objectSpread({},t),{},{options:[{value:2,label:"2명"},{value:3,label:"3명"}]}))}})]})]}),(0,C.jsxs)(M,{children:[(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"모집 연령대"}),(0,C.jsx)(d.Qr,{name:"ageGroup",control:eg,render:function(e){var t=e.field;return(0,C.jsx)(m.A,_objectSpread(_objectSpread({},t),{},{options:[{value:"TWENTIES",label:"20대"},{value:"THIRTIES",label:"30대"},{value:"FORTIES",label:"40대"},{value:"SENIOR",label:"50대 이상"}]}))}})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"모집 NTRP"}),(0,C.jsx)(d.Qr,{name:"ntrp",control:eg,render:function(e){var t=e.field;return(0,C.jsx)(m.A,_objectSpread(_objectSpread({},t),{},{options:[{value:"DEVELOPMENT",label:"NewBie (1.0 ~ 2.0)"},{value:"BEGINNER",label:"Beginner (2.5 ~ 3.5)"},{value:"INTERMEDIATE",label:"Intermediate (4.0 ~ 4.5)"},{value:"ADVANCE",label:"Advanced (5.0 ~ 5.5)"},{value:"PRO",label:"Pro (6.0 ~ 7.0)"}]}))}})]})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"경기일"}),(0,C.jsx)(f.Z,{dateState:c,setDateState:p})]}),(0,C.jsxs)(M,{children:[(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"시작 시간"}),(0,C.jsx)(b.Z,{dateState:O,setDateState:V})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"종료 시간"}),(0,C.jsx)(b.Z,{dateState:H,setDateState:U})]})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"모집마감일"}),(0,C.jsx)(f.Z,{dateState:J,setDateState:Y})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"모집마감시간"}),(0,C.jsx)(b.Z,{type:"HOUR",dateState:et,setDateState:en})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"경기장 예약 여부"}),(0,C.jsx)(v.Z,_objectSpread({setState:eb},ef("isReserved")))]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"구장대여비"}),(0,C.jsx)("input",_objectSpread(_objectSpread({type:"text"},ef("cost")),{},{onChange:function(e){eb("cost",(0,j.X1)(e.target.value))}}))]}),(0,C.jsxs)(G,{children:[(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"주소"}),(0,C.jsx)("input",_objectSpread(_objectSpread({placeholder:"주소"},ef("location")),{},{readOnly:!0}))]}),(0,C.jsx)(g.LE,{height:"50px",onClick:handleAddressDrawer,children:"주소 검색"})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"경기장 이미지"}),ec?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{onClick:clickImgFile,children:(0,C.jsx)(_.Wb,{widthInit:!0,height:"380px",backgroundImage:ec})})}):(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Q,{onClick:clickImgFile,children:(0,C.jsx)(_.FS,{height:"380px",children:(0,C.jsx)("img",{src:ec||"/images/add-image-rectangle-00.png",alt:"경기장 이미지"})})})}),(0,C.jsx)("input",{id:"courtPhoto",type:"file",style:{display:"none"},ref:er,onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){el(e.target.result)},ea(t),n.readAsDataURL(t)},accept:"image/jpeg, image/png"})]}),(0,C.jsxs)(x.W,{children:[(0,C.jsx)("label",{children:"본문 내용"}),(0,C.jsx)(D,_objectSpread({onChange:function(e){return eb("content",e.target.value)},placeholder:"내용을 입력하세요."},ef("content")))]})]}),(0,C.jsx)(K,{children:(0,C.jsx)(g.h$,{disabled:![e_("title"),e_("matchingType"),e_("recruitNum"),e_("ageGroup"),e_("ntrp"),c,O,H,J,et,e_("isReserved"),e_("cost"),e_("location"),ec,e_("content")].every(function(e){return null!=e&&""!==e}),onClick:eR,children:"적용하기"})}),(0,C.jsx)(w.Z,{title:"주소 검색",isOpen:ep,placement:"bottom",height:"100%",toggleDrawer:handleAddressDrawer,children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(T,{children:[(0,C.jsx)(x.W,{children:(0,C.jsx)("input",_objectSpread({id:"registerAddress",placeholder:"우편번호"},eO("address")))}),(0,C.jsx)(g.LE,{height:"50px",onClick:eS(ew),children:"주소 검색"})]}),(0,C.jsx)(B,{children:(0,C.jsxs)("p",{children:["찾으시려는 도로명주소, 동(읍/면/리) 또는 건물명을 입력해주세요.",(0,C.jsx)("br",{}),"(예 : 판교동, 판교원로 68, 판교실리콘파크)"]})}),(0,C.jsx)(_.WF,{}),(0,C.jsx)(W,{children:null==ex?void 0:ex.map(function(e){return(0,C.jsxs)(z,{onClick:function(){onClickAddressItem(e)},children:[(0,C.jsxs)(F,{children:[(0,C.jsxs)(q,{children:[(0,C.jsx)(R.c,{color:y.K6,children:"도로명"}),(0,C.jsx)("p",{children:e.roadAddr})]}),(0,C.jsxs)(q,{children:[(0,C.jsx)(R.c,{children:"지번"}),(0,C.jsx)("p",{children:e.jibunAddr})]})]}),(0,C.jsx)(L,{children:e.zipNo})]},(0,I.Z)())})})]})})]})}var A=p.ZP.div.withConfig({displayName:"postMatching__PageTitleArea",componentId:"sc-ra7jvz-0"})(["margin:"," auto;"],(0,u.hO)("50px")),E=p.ZP.div.withConfig({displayName:"postMatching__PostMatchingFormBox",componentId:"sc-ra7jvz-1"})([""]),M=p.ZP.div.withConfig({displayName:"postMatching__HalfBox",componentId:"sc-ra7jvz-2"})(["display:flex;justify-content:space-between;div.input__InputBox-sc-7b0p27-0{flex-basis:",";&:first-child{margin-right:",";}}"],function(e){return e.theme.isResponsive?(0,j.Q1)("280px"):(0,u.hO)("280px")},function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")}),Q=p.ZP.div.withConfig({displayName:"postMatching__ImageSection",componentId:"sc-ra7jvz-3"})(["cursor:pointer;border:none;margin-bottom:",";border-radius:5px;border:1px solid ",";background:",";overflow:hidden;div.box__ImageBox-sc-1o0dgyy-0{width:auto !important;}img{width:100%;display:block;}"],function(e){return e.theme.isResponsive?(0,j.Q1)("30px"):(0,u.hO)("30px")},y.B_,y._2),D=(0,p.ZP)(O.K).withConfig({displayName:"postMatching__MainTextArea",componentId:"sc-ra7jvz-4"})(["max-width:",";height:",";"],function(e){return e.theme.isResponsive?(0,j.Q1)("620px"):(0,u.hO)("620px")},function(e){return e.theme.isResponsive?(0,j.Q1)("400px"):(0,u.hO)("400px")}),T=p.ZP.div.withConfig({displayName:"postMatching__InputNoTitleButtonBox",componentId:"sc-ra7jvz-5"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";.input__InputBox-sc-7b0p27-0{flex-basis:",";margin-bottom:0 !important;}.buttons__SquareButton-sc-1doc049-1{flex-basis:",";margin-left:",";}"],function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")},function(e){return e.theme.isResponsive?(0,j.Q1)("380px"):(0,u.hO)("380px")},function(e){return e.theme.isResponsive?(0,j.Q1)("180px"):(0,u.hO)("180px")},function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")}),B=p.ZP.div.withConfig({displayName:"postMatching__DescTextBox",componentId:"sc-ra7jvz-6"})(["margin-bottom:",";p{font-size:",";color:",";font-family:Pretendard-Regular;line-height:",";}"],function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")},function(e){return e.theme.isResponsive?(0,j.Q1)(y.Mz):(0,u.hO)(y.Mz)},y.R4,(0,u.hO)(y.Aq)),W=p.ZP.div.withConfig({displayName:"postMatching__AddressContainer",componentId:"sc-ra7jvz-7"})(["margin-top:",";"],function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")}),z=p.ZP.div.withConfig({displayName:"postMatching__AddressBoxWrap",componentId:"sc-ra7jvz-8"})(["display:flex;justify-content:space-between;background-color:",";border:1px solid ",";border-radius:5px;padding:",";margin-bottom:",";cursor:pointer;-webkit-tap-highlight-color:transparent !important;&:hover{background-color:#efefef;}"],y._2,y.B_,function(e){return e.theme.isResponsive?(0,j.Q1)("15px"):(0,u.hO)("15px")},function(e){return e.theme.isResponsive?(0,j.Q1)("10px"):(0,u.hO)("10px")}),F=p.ZP.div.withConfig({displayName:"postMatching__AddLeftWrap",componentId:"sc-ra7jvz-9"})(["margin-right:",";"],function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")}),q=p.ZP.div.withConfig({displayName:"postMatching__AddressBox",componentId:"sc-ra7jvz-10"})(["display:flex;align-items:center;&:first-child{margin-bottom:",";}p{margin-left:",";font-size:",";font-family:Pretendard-Regular;line-height:",";}"],function(e){return e.theme.isResponsive?(0,j.Q1)("10px"):(0,u.hO)("10px")},function(e){return e.theme.isResponsive?(0,j.Q1)("10px"):(0,u.hO)("10px")},function(e){return e.theme.isResponsive?(0,j.Q1)(y.Mz):(0,u.hO)(y.Mz)},function(e){return e.theme.isResponsive?(0,j.Q1)(y.OI):(0,u.hO)(y.OI)}),L=p.ZP.div.withConfig({displayName:"postMatching__AddRightWrap",componentId:"sc-ra7jvz-11"})(["display:flex;justify-content:center;align-items:center;font-size:",";font-family:Pretendard-Regular;color:",";"],function(e){return e.theme.isResponsive?(0,j.Q1)(y.OI):(0,u.hO)(y.OI)},y.SK),G=p.ZP.div.withConfig({displayName:"postMatching__InputButtonBox",componentId:"sc-ra7jvz-12"})(["display:flex;justify-content:space-between;.input__InputBox-sc-7b0p27-0{flex-basis:",";}.buttons__SquareButton-sc-1doc049-1{flex-basis:",";margin-top:",";margin-left:",";}"],function(e){return e.theme.isResponsive?(0,j.Q1)("380px"):(0,u.hO)("380px")},function(e){return e.theme.isResponsive?(0,j.Q1)("180px"):(0,u.hO)("180px")},function(e){return e.theme.isResponsive?(0,j.Q1)("26px"):(0,u.hO)("26px")},function(e){return e.theme.isResponsive?(0,j.Q1)("20px"):(0,u.hO)("20px")}),K=p.ZP.div.withConfig({displayName:"postMatching__SubmitBtnWrapper",componentId:"sc-ra7jvz-13"})(["margin-bottom:50px;"])},3393:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/postMatching",function(){return n(5658)}])}},function(e){e.O(0,[536,216,19,791,222,160,618,774,888,179],function(){return e(e.s=3393)}),_N_E=e.O()}]);